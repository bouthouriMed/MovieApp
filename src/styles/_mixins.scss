@import "variables";

@mixin flex-center($direction: row) {
  display: flex;
  flex-direction: $direction;
  justify-content: center;
  align-items: center;
}

@mixin card($width, $height) {
  width: $width;
  height: $height;
  border-radius: 8px;
  background-color: $secondary-color;
  color: $text-color;
}

@mixin transition($props: all, $duration: 0.3s, $ease: ease) {
  transition: $props $duration $ease;
}

@mixin theme($category: null) {
  $theme: if(
    $category != null and map-has-key($themes, $category),
    map-get($themes, $category),
    $default-theme
  );

  font-family: map-get($theme, font);

  h1 {
    text-shadow: map-get($theme, accent-shadow);
    position: relative;

    // ðŸŽ­ Category Badge
    @if $category != null {
      &::after {
        display: inline-block;
        margin-left: 1rem;
        padding: 0.25rem 0.75rem;
        font-size: 0.8rem;
        font-weight: bold;
        border-radius: 6px;
        text-transform: uppercase;
        vertical-align: middle;

        @if $category == $CATEGORY_POPULAR {
          content: "#{$CATEGORY_POPULAR}";
          background: $primary-color;
          color: $text-color;
        } @else if $category == $CATEGORY_TOP_RATED {
          content: "#{$CATEGORY_TOP_RATED}";
          background: $highlight;
          color: $background-color;
        } @else if $category == $CATEGORY_UPCOMING {
          content: "#{$CATEGORY_UPCOMING}";
          background: linear-gradient(135deg, #ff6ec7, #ffa84c);
          color: $text-color;
        }
      }
    }
  }

  .tagline {
    color: map-get($theme, tagline-color);
    position: relative;
    display: inline-block;

    // ðŸ”¥ Underline effect
    &::after {
      content: "";
      position: absolute;
      bottom: -4px;
      left: 0;
      width: 100%;
      height: 3px;
      border-radius: 2px;

      @if $category == $CATEGORY_POPULAR {
        background: $primary-color;
      } @else if $category == $CATEGORY_TOP_RATED {
        background: $highlight;
      } @else if $category == $CATEGORY_UPCOMING {
        background: linear-gradient(90deg, #ff6ec7, #ffa84c);
      } @else {
        background: $text-color;
      }
    }
  }

  // Add to Watchlist button effect
  .watch-btn {
    $btn-bg: map-get($theme, btn-bg);
    background: $btn-bg;
    border-radius: map-get($theme, btn-radius);

    @if map-has-key($theme, btn-border) {
      border: 2px solid map-get($theme, btn-border);
      color: map-get($theme, btn-border);

      &:hover {
        background: map-get($theme, btn-border);
        color: $text-color;
      }
    } @else {
      border: none;
      color: $text-color;

      &:hover {
        @if type-of($btn-bg) == color {
          background: lighten($btn-bg, 10%);
        } @else {
          background: $btn-bg;
          filter: brightness(1.1);
        }
      }
    }
  }
}
